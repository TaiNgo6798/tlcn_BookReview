{"version":3,"sources":["pages/login/forgot-form.js"],"names":["WrappedNormalForm","create","name","props","onCancel","visible","forgotEmailRef","useRef","getFieldDecorator","form","forgotHandler","e","preventDefault","axios","method","url","data","email","current","state","value","then","res","success","Swal","fire","position","type","title","showConfirmButton","footer","width","className","onSubmit","Item","rules","required","message","pattern","ref","size","onKeyDown","key","enterHandler","block","onClick","withRouter"],"mappings":"8PA6GMA,G,MAAoB,IAAKC,OAAO,CAAEC,KAAM,UAApB,EAjGZ,SAACC,GAAW,IAEhBC,EAAsBD,EAAtBC,SAAUC,EAAYF,EAAZE,QAEZC,EAAiBC,iBAAO,MAEtBC,EAAsBL,EAAMM,KAA5BD,kBAEFE,EAAgB,SAACC,GACrBA,EAAEC,iBACFC,IAAM,CACJC,OAAQ,OACRC,IAAK,0CACLC,KAAM,CACJC,MAAOX,EAAeY,QAAQC,MAAMC,SAErCC,MAAK,SAAAC,GACFA,EAAIN,KAAKO,SACXnB,IACAoB,IAAKC,KAAK,CACRC,SAAU,SACVC,KAAM,UACNC,MAAO,mDACPC,mBAAmB,KAGrBL,IAAKC,KAAK,CACRC,SAAU,SACVC,KAAM,QACNC,MAAO,gDACPC,mBAAmB,QAc3B,OACE,oCACE,uBACExB,QAASA,EACTD,SAAU,WAAQA,KAClB0B,OAAQ,KACRC,MAAM,QACNC,UAAU,qBAEV,yBAAKA,UAAU,SAAf,qBACA,yBAAKA,UAAU,UAAf,8CAGA,yBAAKA,UAAU,UAAf,wCAGA,uBAAMC,SAAU,WAAQvB,MACtB,sBAAMwB,KAAN,KACG1B,EAAkB,QAAS,CAC1B2B,MAAO,CACL,CAAEC,UAAU,EAAMC,QAAS,sDAC3B,CAEEC,QAAS,uGACTD,QAAS,4DANd7B,CASE,uBAAO+B,IAAKjC,EACbkC,KAAK,QACLC,UAAW,SAAC9B,IAlCH,SAACA,GACN,UAAVA,EAAE+B,KACJhC,EAAcC,GAgCcgC,CAAahC,QAGrC,sBAAMuB,KAAN,KACE,uBACEhC,KAAK,mBACLyB,KAAK,UACLa,KAAK,QACLI,OAAK,EACLZ,UAAU,YACVa,QAAS,SAAClC,GAAD,OAAOD,EAAcC,KANhC,gBAqBGmC,sBAAW9C,I","file":"static/js/8.cb7c801b.chunk.js","sourcesContent":["\r\nimport React, { useRef, useState } from 'react'\r\nimport { Form, Input, Button, Modal } from 'antd'\r\nimport Swal from 'sweetalert2'\r\nimport { withRouter } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\n\r\n// import css\r\nimport './index.scss'\r\n\r\n\r\nconst Index = (props) => {\r\n\r\n  const { onCancel, visible } = props\r\n\r\n  const forgotEmailRef = useRef(null)\r\n\r\n  const { getFieldDecorator } = props.form\r\n\r\n  const forgotHandler = (e) => {\r\n    e.preventDefault()\r\n    axios({\r\n      method: 'post',\r\n      url: 'http://localhost:8080/reviewbook/forgot',\r\n      data: {\r\n        email: forgotEmailRef.current.state.value\r\n      }\r\n    }).then(res => {\r\n      if (res.data.success) {\r\n        onCancel()\r\n        Swal.fire({\r\n          position: 'center',\r\n          type: 'success',\r\n          title: 'Please check your email to reset your password !',\r\n          showConfirmButton: true,\r\n        })\r\n      } else {\r\n        Swal.fire({\r\n          position: 'center',\r\n          type: 'error',\r\n          title: 'Email is not registered, please check again !',\r\n          showConfirmButton: true,\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n \r\n\r\n\r\n  const enterHandler = (e) => {\r\n    if (e.key === 'Enter')\r\n      forgotHandler(e)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      < Modal\r\n        visible={visible}\r\n        onCancel={() => { onCancel() }}\r\n        footer={null}\r\n        width='556px'\r\n        className='login-form-forgot'\r\n      >\r\n        <div className='title'>Forgot password ?</div>\r\n        <div className='text-1'>\r\n          Please submit your email to reset password\r\n</div>\r\n        <div className='text-2'>\r\n          Please check your email after submit\r\n</div>\r\n        <Form onSubmit={() => { forgotHandler() }}>\r\n          <Form.Item>\r\n            {getFieldDecorator('email', {\r\n              rules: [\r\n                { required: true, message: 'Vui lòng nhập địa chỉ email' },\r\n                {\r\n                  // eslint-disable-next-line max-len\r\n                  pattern: /^([A-Z|a-z|0-9](\\.|_){0,1})+[A-Z|a-z|0-9]@([A-Z|a-z|0-9])+((\\.){0,1}[A-Z|a-z|0-9]){2}\\.[a-z]{2,3}$/gm,\r\n                  message: 'Địa chỉ email không hợp lệ'\r\n                }\r\n              ]\r\n            })(<Input ref={forgotEmailRef}\r\n              size='large'\r\n              onKeyDown={(e) => { enterHandler(e) }}\r\n            />)}\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button\r\n              name='btn-send-request'\r\n              type='primary'\r\n              size='large'\r\n              block\r\n              className='btn-innos'\r\n              onClick={(e) => forgotHandler(e)}\r\n            >\r\n              Send\r\n</Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal >\r\n\r\n    </>\r\n  )\r\n\r\n\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({ name: 'normal' })(Index)\r\nexport default withRouter(WrappedNormalForm)"],"sourceRoot":""}